#!/usr/bin/env node
'use strict';

const cowsay = require('cowsay');
const monowrap = require('monowrap');
const getRandomTweet = require('../index');
const cleanUpTweet = require('../lib/utils');

const argv = require('yargs').argv;

getRandomTweet()
  .then((tweet) => {
    tweet = cleanUpTweet(tweet);

    if (argv.cow) {
      let output = monowrap(tweet, {
        width: 30
      });

      console.log(cowsay.say({
        text: output
      }));
    } else {
      let output = monowrap(tweet, {
        width: process.stdout.columns
      });

      console.log(output);
    }
  });
